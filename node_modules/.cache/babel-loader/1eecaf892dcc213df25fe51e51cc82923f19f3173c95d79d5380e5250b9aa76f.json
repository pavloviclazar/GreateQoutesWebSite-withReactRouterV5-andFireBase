{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/greatQuotes-withReactRouter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from\"react\";import{Prompt}from\"react-router-dom\";import Card from\"../UI/Card\";import LoadingSpinner from\"../UI/LoadingSpinner\";import classes from\"./QuoteForm.module.css\";import{Fragment}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuoteForm=function QuoteForm(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEntering=_useState2[0],setIsEntering=_useState2[1];var authorInputRef=useRef();var textInputRef=useRef();function submitFormHandler(event){event.preventDefault();var enteredAuthor=authorInputRef.current.value;var enteredText=textInputRef.current.value;// optional: Could validate here\nprops.onAddQuote({author:enteredAuthor,text:enteredText});}var finishEnteringHandler=function finishEnteringHandler(){setIsEntering(false);};var formFocusedHandler=function formFocusedHandler(){setIsEntering(true);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Prompt,{when:isEntering,message:function message(location){return\"Are you sure you want to leave? All your entered data will be lost!\";}}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"form\",{onFocus:formFocusedHandler,className:classes.form,onSubmit:submitFormHandler,children:[props.isLoading&&/*#__PURE__*/_jsx(\"div\",{className:classes.loading,children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",ref:authorInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",children:\"Text\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"text\",rows:\"5\",ref:textInputRef})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(\"button\",{onClick:finishEnteringHandler,className:\"btn\",children:\"Add Quote\"})})]})})]});};export default QuoteForm;","map":{"version":3,"names":["useRef","useState","Prompt","Card","LoadingSpinner","classes","Fragment","QuoteForm","props","isEntering","setIsEntering","authorInputRef","textInputRef","submitFormHandler","event","preventDefault","enteredAuthor","current","value","enteredText","onAddQuote","author","text","finishEnteringHandler","formFocusedHandler","location","form","isLoading","loading","control","actions"],"sources":["/Users/mac/Documents/greatQuotes-withReactRouter/src/components/quotes/QuoteForm.js"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { Prompt } from \"react-router-dom\";\n\nimport Card from \"../UI/Card\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport classes from \"./QuoteForm.module.css\";\nimport { Fragment } from \"react\";\n\nconst QuoteForm = (props) => {\n  const [isEntering, setIsEntering] = useState(false);\n\n  const authorInputRef = useRef();\n  const textInputRef = useRef();\n\n  function submitFormHandler(event) {\n    event.preventDefault();\n\n    const enteredAuthor = authorInputRef.current.value;\n    const enteredText = textInputRef.current.value;\n\n    // optional: Could validate here\n\n    props.onAddQuote({ author: enteredAuthor, text: enteredText });\n  }\n\n  const finishEnteringHandler = () => {\n    setIsEntering(false);\n  };\n\n  const formFocusedHandler = () => {\n    setIsEntering(true);\n  };\n\n  return (\n    <Fragment>\n      <Prompt\n        when={isEntering}\n        message={(location) =>\n          \"Are you sure you want to leave? All your entered data will be lost!\"\n        }\n      />\n      <Card>\n        <form\n          onFocus={formFocusedHandler}\n          className={classes.form}\n          onSubmit={submitFormHandler}\n        >\n          {props.isLoading && (\n            <div className={classes.loading}>\n              <LoadingSpinner />\n            </div>\n          )}\n\n          <div className={classes.control}>\n            <label htmlFor=\"author\">Author</label>\n            <input type=\"text\" id=\"author\" ref={authorInputRef} />\n          </div>\n          <div className={classes.control}>\n            <label htmlFor=\"text\">Text</label>\n            <textarea id=\"text\" rows=\"5\" ref={textInputRef}></textarea>\n          </div>\n          <div className={classes.actions}>\n            <button onClick={finishEnteringHandler} className=\"btn\">\n              Add Quote\n            </button>\n          </div>\n        </form>\n      </Card>\n    </Fragment>\n  );\n};\n\nexport default QuoteForm;\n"],"mappings":"sIAAA,OAASA,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACxC,OAASC,MAAM,KAAQ,kBAAkB,CAEzC,MAAOC,KAAI,KAAM,YAAY,CAC7B,MAAOC,eAAc,KAAM,sBAAsB,CACjD,MAAOC,QAAO,KAAM,wBAAwB,CAC5C,OAASC,QAAQ,KAAQ,OAAO,CAAC,wFAEjC,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,KAAK,CAAK,CAC3B,cAAoCP,QAAQ,CAAC,KAAK,CAAC,wCAA5CQ,UAAU,eAAEC,aAAa,eAEhC,GAAMC,eAAc,CAAGX,MAAM,EAAE,CAC/B,GAAMY,aAAY,CAAGZ,MAAM,EAAE,CAE7B,QAASa,kBAAiB,CAACC,KAAK,CAAE,CAChCA,KAAK,CAACC,cAAc,EAAE,CAEtB,GAAMC,cAAa,CAAGL,cAAc,CAACM,OAAO,CAACC,KAAK,CAClD,GAAMC,YAAW,CAAGP,YAAY,CAACK,OAAO,CAACC,KAAK,CAE9C;AAEAV,KAAK,CAACY,UAAU,CAAC,CAAEC,MAAM,CAAEL,aAAa,CAAEM,IAAI,CAAEH,WAAY,CAAC,CAAC,CAChE,CAEA,GAAMI,sBAAqB,CAAG,QAAxBA,sBAAqB,EAAS,CAClCb,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,GAAMc,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC/Bd,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,mBACE,MAAC,QAAQ,yBACP,KAAC,MAAM,EACL,IAAI,CAAED,UAAW,CACjB,OAAO,CAAE,iBAACgB,QAAQ,QAChB,qEAAqE,EACtE,EACD,cACF,KAAC,IAAI,wBACH,cACE,OAAO,CAAED,kBAAmB,CAC5B,SAAS,CAAEnB,OAAO,CAACqB,IAAK,CACxB,QAAQ,CAAEb,iBAAkB,WAE3BL,KAAK,CAACmB,SAAS,eACd,YAAK,SAAS,CAAEtB,OAAO,CAACuB,OAAQ,uBAC9B,KAAC,cAAc,IAAG,EAErB,cAED,aAAK,SAAS,CAAEvB,OAAO,CAACwB,OAAQ,wBAC9B,cAAO,OAAO,CAAC,QAAQ,oBAAe,cACtC,cAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAElB,cAAe,EAAG,GAClD,cACN,aAAK,SAAS,CAAEN,OAAO,CAACwB,OAAQ,wBAC9B,cAAO,OAAO,CAAC,MAAM,kBAAa,cAClC,iBAAU,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAEjB,YAAa,EAAY,GACvD,cACN,YAAK,SAAS,CAAEP,OAAO,CAACyB,OAAQ,uBAC9B,eAAQ,OAAO,CAAEP,qBAAsB,CAAC,SAAS,CAAC,KAAK,uBAE9C,EACL,GACD,EACF,GACE,CAEf,CAAC,CAED,cAAehB,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}